+++
author = "Thomas Evensen"
title = "Thoughts about Verify"
date = "2024-12-19"
tags = ["verify remote"]
categories = ["synchronize"]
+++

In future releases, it may be necessary to conduct a more thorough analysis of the output generated by rsync. However, for a brief test, the following was the outcome:

The detailed output from rsync, utilizing the `--itemize-changes` arguments for files, indicates the following four initial positions in the output:

- `<f.st`: The file is being transferred *from the local host* to the remote host (push).

- `>f.st`: The file is being transferred *from the remote host* to the local host (pull).

#### A case to discuss

In January 2025, I was photographing birds at my mountain cabin and editing the images using my MacBook Pro. Upon returning home, I should have updated my Mac Mini 4 to synchronize with my MacBook Pro. All new photos on my MacBook Pro were successfully synchronized with my home server. Additionally, I synchronize photos to local SSDs when traveling.

**Important Note**: My remote photo repository is not a Git repository. If it were a Git repository, I could use a git pull command to update my local photos on my Mac Mini 4. To ensure the synchronization of my two Macs, I developed the Verify function.

The Verify function was executed, and it indicated that the remote repository was more up-to-date, which was accurate. 


{{< figure src="/images/verify/verifycompleted.png" alt="" position="center" style="border-radius: 8px;" >}}

The pull view is displayed, indicating the presence of new files on the remote server.

- `>f.st`: The file is being transferred *from the remote host* to the local host (pull).

{{< figure src="/images/verify/pullview.png" alt="" position="center" style="border-radius: 8px;" >}}

Therefore, a remote pull is the appropriate solution.

#### Danger Zone

Prior to executing the data pull, I conducted a standard *estimation as first of a synchronization task* as I typically do to synchronize data between my local and remote systems. A standard synchronization, in RsyncUI, task includes adding the `—delete` parameter to maintain synchronization between the local and remote systems. However, due to the `—delete` parameter, rsync would **delete** the newly added files to my remote storage.

This highlights the importance of carefully considering the next step when synchronizing multiple Macs to the same remote repository, particularly if the remote repository is not a Git repository.


{{< figure src="/images/verify/synchronize.png" alt="" position="center" style="border-radius: 8px;" >}}


